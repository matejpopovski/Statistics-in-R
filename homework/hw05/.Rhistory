rename(female = pct_f_bach, male = pct_m_bach)%>%
pivot_longer(c(male, female), names_to = "sex", values_to = "pct_bachelors")
education
head(education, n=10)
obesity = read.csv("../../data/obesity.csv")
obesity$zip = as.character(obesity$zip)
obesity1 = obesity %>%
mutate(obese_pop = obese/n*pop, non_obese_pop = (1-obese/n)*pop)
obesity1
adult_pop_sum = obesity1 %>%
filter(age != "05-17") %>%
group_by(zip, sex) %>%
summarise(total_pop = sum(pop))
ggplot(adult_pop_sum, aes(x = total_pop, y=sex)) +
geom_boxplot()
education$zip = as.character(education$zip)
education = education %>%
left_join(adult_pop_sum, by=(c("zip", "sex")))
education %>%
filter(pct_bachelors == 0 | pct_bachelors == 100) %>%
arrange(desc(total_pop))
education
# %>%
#   group_by(zip, sex) %>%
education %>%
mutate(bachelors = pct_bachelors*total_pop/100)
education %>%
mutate(bachelors = pct_bachelors*total_pop/100) %>%
group_by(sex) %>%
summarise(state_ratio = sum(bachelors)/sum(total_pop))
education %>%
mutate(bachelors = pct_bachelors*total_pop/100) %>%
drop_na() %>%
group_by(sex) %>%
summarise(state_ratio = sum(bachelors)/sum(total_pop))
education %>%
mutate(bachelors = pct_bachelors*total_pop/100) %>%
drop_na() %>%
group_by(sex) %>%
summarise(state_ratio = sum(bachelors)/sum(total_pop))
education %>%
mutate(bachelors = pct_bachelors*total_pop/100) %>%
drop_na() %>%
group_by(sex) %>%
summarise(state_ratio = sum(bachelors)/sum(total_pop)*100)
adult_obesity_sum
obesity
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na()
question7
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip)
question7
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n())
question7
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
filter(num_rows_left >=8)
question7
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
filter(num_rows_left >7)
question7
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
filter(num_rows_left >=8)
question7
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese), total_people1 = sum(pop))
question7
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese), total_people1 = sum(pop))
question7
head(question7, n=10)
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip, sex) %>%
mutate(num_rows_left = n()) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese), total_people1 = sum(pop))
question7
head(question7, n=10)
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese), total_people1 = sum(pop))
question7
head(question7, n=10)
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip, sex) %>%
mutate(num_rows_left = n()) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese), total_people1 = sum(pop))
question7
head(question7, n=10)
question7 = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
group_by(zip, sex) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese), total_people1 = sum(pop))
question7
head(question7, n=10)
adult_obesity_sum = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
group_by(zip, sex) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese), total_people1 = sum(pop))
adult_obesity_sum
head(adult_obesity_sum, n=10)
full_join(adult_obesity_sum, education, by = c("zip", "sex"))
inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
full_join(adult_obesity_sum, education, by = c("zip", "sex"))
#full_join(adult_obesity_sum, education, by = c("zip", "sex"))
head(adult_obesity_sum ,n=3)
head( education,n=3)
full_join(adult_obesity_sum, education, by = c("zip", "sex"))
head(adult_obesity_sum ,n=3)
head( education,n=3)
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8
head(adult_obesity_sum ,n=3)
head( education,n=3)
adult_obesity_sum = obesity %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
group_by(zip, sex) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese_pop), total_people1 = sum(pop))
adult_obesity_sum
head(adult_obesity_sum, n=10)
adult_obesity_sum = obesity1 %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
group_by(zip, sex) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese_pop), total_people1 = sum(pop))
adult_obesity_sum
head(adult_obesity_sum, n=10)
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8
head(adult_obesity_sum ,n=3)
head( education,n=3)
adult_obesity_sum = adult_obesity_sum %>% select(-total_people1)
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8
head(adult_obesity_sum ,n=3)
head( education,n=3)
adult_obesity_sum = adult_obesity_sum %>% select(-total_people1)
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8
adult_obesity_sum = adult_obesity_sum %>% select(-total_people1)
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8
knitr::opts_chunk$set(echo = TRUE, message = FALSE,
warning = FALSE, error = TRUE,
fig.height = 3)
library(tidyverse)
source("../../scripts/viridis.R")
education_orig = read.csv("../../data/education.csv")
head(education_orig, n=4)
dim(education_orig)
education_orig %>%
drop_na() %>%
summarize(num = sum(pct_f_bach > pct_m_bach),
n = n(),
p_1 = mean(pct_f_bach > pct_m_bach),
p_2 = mean(pct_f_bach == pct_m_bach))
ggplot(data = education_orig, mapping = aes(x = pct_f_bach, y = pct_m_bach) ) +
geom_point() +
geom_smooth(se=FALSE) +
#geom_hline(yintercept = 0.95 + 1.14, linetype = "dashed", col = "red"). presaj sto e razlikata
geom_abline(intercept = 0, slope = 1, color = "red") +
labs(y= "Female % for Bachelors or higher", x = "Male % for Bachelors or higher") +ggtitle("Male vs Female percentage for having a Bachelors degree or higher")
head(education_orig, n=4)
education = education_orig %>%
drop_na() %>%
rename(female = pct_f_bach, male = pct_m_bach)%>%
pivot_longer(c(male, female), names_to = "sex", values_to = "pct_bachelors")
education
head(education, n=10)
obesity = read.csv("../../data/obesity.csv")
obesity$zip = as.character(obesity$zip)
obesity1 = obesity %>%
mutate(obese_pop = obese/n*pop, non_obese_pop = (1-obese/n)*pop)
obesity1
adult_pop_sum = obesity1 %>%
filter(age != "05-17") %>%
group_by(zip, sex) %>%
summarise(total_pop = sum(pop))
ggplot(adult_pop_sum, aes(x = total_pop, y=sex)) +
geom_boxplot()
education$zip = as.character(education$zip)
education = education %>%
left_join(adult_pop_sum, by=(c("zip", "sex")))
education %>%
filter(pct_bachelors == 0 | pct_bachelors == 100) %>%
arrange(desc(total_pop))
education %>%
mutate(bachelors = pct_bachelors*total_pop/100) %>%
drop_na() %>%
group_by(sex) %>%
summarise(state_ratio = sum(bachelors)/sum(total_pop)*100)
adult_obesity_sum = obesity1 %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
group_by(zip, sex) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese_pop), total_people1 = sum(pop))
adult_obesity_sum
head(adult_obesity_sum, n=10)
adult_obesity_sum = adult_obesity_sum %>% select(-total_people1)
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
adult_obesity_sum = adult_obesity_sum %>% select(-total_people1)
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
# q8 = q8 %>%
#   mutate(pct_obese = )
knitr::opts_chunk$set(echo = TRUE, message = FALSE,
warning = FALSE, error = TRUE,
fig.height = 3)
library(tidyverse)
source("../../scripts/viridis.R")
education_orig = read.csv("../../data/education.csv")
head(education_orig, n=4)
dim(education_orig)
education_orig %>%
drop_na() %>%
summarize(num = sum(pct_f_bach > pct_m_bach),
n = n(),
p_1 = mean(pct_f_bach > pct_m_bach),
p_2 = mean(pct_f_bach == pct_m_bach))
ggplot(data = education_orig, mapping = aes(x = pct_f_bach, y = pct_m_bach) ) +
geom_point() +
geom_smooth(se=FALSE) +
#geom_hline(yintercept = 0.95 + 1.14, linetype = "dashed", col = "red"). presaj sto e razlikata
geom_abline(intercept = 0, slope = 1, color = "red") +
labs(y= "Female % for Bachelors or higher", x = "Male % for Bachelors or higher") +ggtitle("Male vs Female percentage for having a Bachelors degree or higher")
head(education_orig, n=4)
education = education_orig %>%
drop_na() %>%
rename(female = pct_f_bach, male = pct_m_bach)%>%
pivot_longer(c(male, female), names_to = "sex", values_to = "pct_bachelors")
education
head(education, n=10)
obesity = read.csv("../../data/obesity.csv")
obesity$zip = as.character(obesity$zip)
obesity1 = obesity %>%
mutate(obese_pop = obese/n*pop, non_obese_pop = (1-obese/n)*pop)
obesity1
adult_pop_sum = obesity1 %>%
filter(age != "05-17") %>%
group_by(zip, sex) %>%
summarise(total_pop = sum(pop))
ggplot(adult_pop_sum, aes(x = total_pop, y=sex)) +
geom_boxplot()
education$zip = as.character(education$zip)
education = education %>%
left_join(adult_pop_sum, by=(c("zip", "sex")))
education %>%
filter(pct_bachelors == 0 | pct_bachelors == 100) %>%
arrange(desc(total_pop))
education %>%
mutate(bachelors = pct_bachelors*total_pop/100) %>%
drop_na() %>%
group_by(sex) %>%
summarise(state_ratio = sum(bachelors)/sum(total_pop)*100)
adult_obesity_sum = obesity1 %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
group_by(zip, sex) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese_pop), total_people1 = sum(pop))
adult_obesity_sum
head(adult_obesity_sum, n=10)
adult_obesity_sum = adult_obesity_sum %>% select(-total_people1)
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8
# q8 = q8 %>%
# mutate(pct_obese = )
adult_obesity_sum = adult_obesity_sum %>% select(-total_people1)
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8 = q8 %>%
mutate(pct_obese = total_obese/total_pop)
knitr::opts_chunk$set(echo = TRUE, message = FALSE,
warning = FALSE, error = TRUE,
fig.height = 3)
library(tidyverse)
source("../../scripts/viridis.R")
education_orig = read.csv("../../data/education.csv")
head(education_orig, n=4)
dim(education_orig)
education_orig %>%
drop_na() %>%
summarize(num = sum(pct_f_bach > pct_m_bach),
n = n(),
p_1 = mean(pct_f_bach > pct_m_bach),
p_2 = mean(pct_f_bach == pct_m_bach))
ggplot(data = education_orig, mapping = aes(x = pct_f_bach, y = pct_m_bach) ) +
geom_point() +
geom_smooth(se=FALSE) +
#geom_hline(yintercept = 0.95 + 1.14, linetype = "dashed", col = "red"). presaj sto e razlikata
geom_abline(intercept = 0, slope = 1, color = "red") +
labs(y= "Female % for Bachelors or higher", x = "Male % for Bachelors or higher") +ggtitle("Male vs Female percentage for having a Bachelors degree or higher")
head(education_orig, n=4)
education = education_orig %>%
drop_na() %>%
rename(female = pct_f_bach, male = pct_m_bach)%>%
pivot_longer(c(male, female), names_to = "sex", values_to = "pct_bachelors")
education
head(education, n=10)
obesity = read.csv("../../data/obesity.csv")
obesity$zip = as.character(obesity$zip)
obesity1 = obesity %>%
mutate(obese_pop = obese/n*pop, non_obese_pop = (1-obese/n)*pop)
obesity1
adult_pop_sum = obesity1 %>%
filter(age != "05-17") %>%
group_by(zip, sex) %>%
summarise(total_pop = sum(pop))
ggplot(adult_pop_sum, aes(x = total_pop, y=sex)) +
geom_boxplot()
education$zip = as.character(education$zip)
education = education %>%
left_join(adult_pop_sum, by=(c("zip", "sex")))
education %>%
filter(pct_bachelors == 0 | pct_bachelors == 100) %>%
arrange(desc(total_pop))
education %>%
mutate(bachelors = pct_bachelors*total_pop/100) %>%
drop_na() %>%
group_by(sex) %>%
summarise(state_ratio = sum(bachelors)/sum(total_pop)*100)
adult_obesity_sum = obesity1 %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
group_by(zip, sex) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese_pop), total_people1 = sum(pop))
adult_obesity_sum
head(adult_obesity_sum, n=10)
adult_obesity_sum = adult_obesity_sum %>% select(-total_people1)
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8 = q8 %>%
mutate(pct_obese = total_obese/total_pop)
q8
adult_obesity_sum = adult_obesity_sum %>% select(-total_people1)
q8 = inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8 = q8 %>%
mutate(pct_obese = total_obese/total_pop)
q8
knitr::opts_chunk$set(echo = TRUE, message = FALSE,
warning = FALSE, error = TRUE,
fig.height = 3)
library(tidyverse)
source("../../scripts/viridis.R")
education_orig = read.csv("../../data/education.csv")
head(education_orig, n=4)
dim(education_orig)
education_orig %>%
drop_na() %>%
summarize(num = sum(pct_f_bach > pct_m_bach),
n = n(),
p_1 = mean(pct_f_bach > pct_m_bach),
p_2 = mean(pct_f_bach == pct_m_bach))
ggplot(data = education_orig, mapping = aes(x = pct_f_bach, y = pct_m_bach) ) +
geom_point() +
geom_smooth(se=FALSE) +
#geom_hline(yintercept = 0.95 + 1.14, linetype = "dashed", col = "red"). presaj sto e razlikata
geom_abline(intercept = 0, slope = 1, color = "red") +
labs(y= "Female % for Bachelors or higher", x = "Male % for Bachelors or higher") +ggtitle("Male vs Female percentage for having a Bachelors degree or higher")
head(education_orig, n=4)
education = education_orig %>%
drop_na() %>%
rename(female = pct_f_bach, male = pct_m_bach)%>%
pivot_longer(c(male, female), names_to = "sex", values_to = "pct_bachelors")
education
head(education, n=10)
obesity = read.csv("../../data/obesity.csv")
obesity$zip = as.character(obesity$zip)
obesity1 = obesity %>%
mutate(obese_pop = obese/n*pop, non_obese_pop = (1-obese/n)*pop)
obesity1
adult_pop_sum = obesity1 %>%
filter(age != "05-17") %>%
group_by(zip, sex) %>%
summarise(total_pop = sum(pop))
ggplot(adult_pop_sum, aes(x = total_pop, y=sex)) +
geom_boxplot()
education$zip = as.character(education$zip)
education = education %>%
left_join(adult_pop_sum, by=(c("zip", "sex")))
education %>%
filter(pct_bachelors == 0 | pct_bachelors == 100) %>%
arrange(desc(total_pop))
education %>%
mutate(bachelors = pct_bachelors*total_pop/100) %>%
drop_na() %>%
group_by(sex) %>%
summarise(state_ratio = sum(bachelors)/sum(total_pop)*100)
adult_obesity_sum = obesity1 %>%
filter(age != "05-17") %>%
drop_na() %>%
group_by(zip) %>%
mutate(num_rows_left = n()) %>%
group_by(zip, sex) %>%
filter(num_rows_left >=8) %>%
summarise(total_obese = sum(obese_pop), total_people1 = sum(pop))
adult_obesity_sum
head(adult_obesity_sum, n=10)
q8 <- adult_obesity_sum %>% select(-total_people1) %>%
inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8 = q8 %>%
mutate(pct_obese = total_obese/total_pop)
q8
q8 <- adult_obesity_sum %>% select(-total_people1) %>%
inner_join(adult_obesity_sum, education, by = c("zip", "sex"))
q8 = q8 %>%
mutate(pct_obese = total_obese/total_pop)
q8
q8 <- adult_obesity_sum %>% select(-total_people1) %>%
inner_join(adult_obesity_sum, education, by = c("zip", "sex")) %>%
mutate(pct_obese = total_obese/total_pop)
q8
q8 <- adult_obesity_sum %>% select(-total_people1) %>%
inner_join(education, by = c("zip", "sex")) %>%
mutate(pct_obese = total_obese/total_pop)
q8
q8 = adult_obesity_sum %>% select(-total_people1) %>%
inner_join(education, by = c("zip", "sex")) %>%
mutate(pct_obese = total_obese/total_pop)
q8
q8 = adult_obesity_sum %>% select(-total_people1) %>%
inner_join(education, by = c("zip", "sex")) %>%
mutate(pct_obese = total_obese/total_pop*100)
q8
q8 = adult_obesity_sum %>% select(-total_people1) %>%
inner_join(education, by = c("zip", "sex")) %>%
mutate(pct_obese = total_obese/total_pop*100)
q8
ggplot(data = q8, aes(x=pct_bachelors, y=pct_obese, color = sex)) +
geom_point() + geom_smooth()
obesity = read.csv("../../data/obesity.csv")
obesity$zip = as.character(obesity$zip)
obesity1 = obesity %>%
mutate(obese_pop = obese/n*pop, non_obese_pop = (1-obese/n)*pop)
obesity1
adult_pop_sum = obesity1 %>%
filter(age != "05-17") %>%
group_by(zip, sex) %>%
summarise(total_pop = sum(pop))
ggplot(adult_pop_sum, aes(x = total_pop, y=sex)) +
geom_boxplot()
obesity = read.csv("../../data/obesity.csv")
obesity$zip = as.character(obesity$zip)
obesity1 = obesity %>%
mutate(obese_pop = obese/n*pop, non_obese_pop = (1-obese/n)*pop)
#obesity1
adult_pop_sum = obesity1 %>%
filter(age != "05-17") %>%
group_by(zip, sex) %>%
summarise(total_pop = sum(pop))
ggplot(adult_pop_sum, aes(x = total_pop, y=sex)) +
geom_boxplot()
